<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Home - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="RTMClient.html">RTMClient</a><ul class='methods'><li data-type='method'><a href="RTMClient.html#get">get</a></li><li data-type='method'><a href="RTMClient.html#~auth/getAuthToken">auth/getAuthToken</a></li><li data-type='method'><a href="RTMClient.html#~auth/getAuthUrl">auth/getAuthUrl</a></li><li data-type='method'><a href="RTMClient.html#~auth/verifyAuthToken">auth/verifyAuthToken</a></li><li data-type='method'><a href="RTMClient.html#~user/create">user/create</a></li><li data-type='method'><a href="RTMClient.html#~user/export">user/export</a></li><li data-type='method'><a href="RTMClient.html#~user/exportToString">user/exportToString</a></li><li data-type='method'><a href="RTMClient.html#~user/import">user/import</a></li><li data-type='method'><a href="RTMClient.html#~user/importFromString">user/importFromString</a></li></ul></li><li><a href="RTMError.html">RTMError</a><ul class='methods'><li data-type='method'><a href="RTMError.html#.networkError">networkError</a></li><li data-type='method'><a href="RTMError.html#.referenceError">referenceError</a></li><li data-type='method'><a href="RTMError.html#.responseError">responseError</a></li><li data-type='method'><a href="RTMError.html#toString">toString</a></li></ul></li><li><a href="RTMList.html">RTMList</a></li><li><a href="RTMResponse.html">RTMResponse</a><ul class='methods'><li data-type='method'><a href="RTMResponse.html#has">has</a></li><li data-type='method'><a href="RTMResponse.html#toString">toString</a></li></ul></li><li><a href="RTMSuccess.html">RTMSuccess</a><ul class='methods'><li data-type='method'><a href="RTMSuccess.html#toString">toString</a></li></ul></li><li><a href="RTMTask.html">RTMTask</a></li><li><a href="RTMUser.html">RTMUser</a><ul class='methods'><li data-type='method'><a href="RTMUser.html#get">get</a></li><li data-type='method'><a href="RTMUser.html#verifyAuthToken">verifyAuthToken</a></li><li data-type='method'><a href="RTMUser.html#~lists/add">lists/add</a></li><li data-type='method'><a href="RTMUser.html#~lists/get">lists/get</a></li><li data-type='method'><a href="RTMUser.html#~lists/remove">lists/remove</a></li><li data-type='method'><a href="RTMUser.html#~lists/rename">lists/rename</a></li><li data-type='method'><a href="RTMUser.html#~tasks/add">tasks/add</a></li><li data-type='method'><a href="RTMUser.html#~tasks/get">tasks/get</a></li></ul></li></ul>
</nav>

<div id="main">
    

    



    









    


    <section class="readme">
        <article><h1>Remember The Milk API Interface</h1><p><strong>node module:</strong> <a href="https://www.npmjs.com/package/rtm-api">rtm-api</a><br><strong>GitHub repo:</strong> <a href="https://github.com/dwaring87/rtm-api">dwaring87/rtm-api</a></p>
<hr>
<p>This Node module provides a wrapper around the Remember the Milk API.</p>
<p>You will need your own RTM API Key and Secret, available from the Remember the 
Milk <a href="https://www.rememberthemilk.com/services/api/keys.rtm">website</a>.</p>
<h2>Installation</h2><p>This module can be installed via <code>npm</code>:</p>
<pre class="prettyprint source"><code>npm install rtm-api</code></pre><p>or downloaded directly from the <a href="https://github.com/dwaring87/rtm-api">GitHub repository</a>.</p>
<h2>Documentation</h2><p>Full documentation is available in the <strong>/docs/</strong> directory of this repository or 
online at <a href="https://dwaring87.github.io/rtm-api/">https://dwaring87.github.io/rtm-api/</a>.</p>
<p>Additional usage examples can be found in the repository's <a href="https://github.com/dwaring87/rtm-api/wiki">wiki pages</a>.</p>
<h2>Usage</h2><p>Set up your API credentials by specifying your API Key, API Secret and the 
requested account permissions.</p>
<pre class="prettyprint source lang-javascript"><code>const RTM = require('rtm-api');
let client = new RTM('API_KEY', 'API_SECRET', RTM.PERM_DELETE);   // An instance of RTMClient</code></pre><p>Account permissions can be granted in one of three categories:</p>
<ul>
<li><strong>read</strong> – gives the ability to read task, contact, group and list details and contents.</li>
<li><strong>write</strong> – gives the ability to add and modify task, contact, group and list details and contents (also allows you to read).</li>
<li><strong>delete</strong> – gives the ability to delete tasks, contacts, groups and lists (also allows you to read and write).</li>
</ul>
<h3>User Authentication</h3><p>Almost all RTM API methods require an authorized user's Auth Token.  This is 
kept in the <code>RTMUser</code> class which can be instantiated manually if you already 
have the User's information with a valid Auth Token:</p>
<pre class="prettyprint source lang-javascript"><code>let user = client.user.create(id, 'username', 'fullname', 'authToken');</code></pre><p>Otherwise, an Auth Token can be obtained via the API using the steps outlined 
in the following sections.</p>
<h4>Generate an Auth URL</h4><p>First, generate an Auth URL that the RTM User will open in their browser.  This 
will direct the RTM User to the Remember the Milk website where they will log in 
and authorize this program to access their account.</p>
<pre class="prettyprint source lang-javascript"><code>// Get an RTM Auth URL that will ask the RTM User to grant access to your client
client.auth.getAuthUrl(function(err, authUrl, frob) {
  if ( err ) {
    console.error(err.toString());
  }

  // Have the User open the authUrl
  console.log(authUrl);

  // Save the frob for the next step
  ...

});</code></pre><h4>Generate an Auth Token</h4><p>Once the RTM User has opened the <code>authUrl</code> and granted access to the program, 
pass the <code>frob</code> from the first step to the <code>getAuthToken</code> function to 
get an <code>RTMUser</code> with an Auth Token to be used in future API calls.</p>
<pre class="prettyprint source lang-javascript"><code>// Get an Auth Token for the User once they've authorized the frob
client.auth.getAuthToken(frob, function(err, user) {

  // If successful, the returned user will include the property `authToken`
  console.log(user.authToken);

  // Save the user for making authenticated API calls via user.get()

});</code></pre><h4>Verify the Auth Token</h4><p>The Auth Token can be verified at any point using the <code>verifyAuthToken</code> function.</p>
<pre class="prettyprint source lang-javascript"><code>client.auth.verifyAuthToken(user.authToken, function(err, verified) {

  // verified will be true if auth token can be used for API calls

});</code></pre><h3>API Requests</h3><p>To make a request to the RTM API, a <a href="https://www.rememberthemilk.com/services/api/methods.rtm">method name</a> 
and callback function are required.  </p>
<p>If the RTM API method requires any parameters, they should be provided as 
an object with the parameters set as key/value pairs.  For example, if the 
method requires the parameters: abc=foo and xyz=bar then they should be provided 
as:</p>
<pre class="prettyprint source"><code>{
  abc: &quot;foo&quot;,
  xyz: &quot;bar&quot;
}</code></pre><p>If the API Method does not require a User's Auth Token, the request can be made 
using the <code>get</code> function available from the <code>RTMClient</code>.</p>
<pre class="prettyprint source lang-javascript"><code>client.get('rtm.auth.getFrob', function(err, resp) {
  if ( err ) {
    console.error(err.toString());
  }

  // Handle the Response
  console.log(resp.frob);
});</code></pre><p>However, most API Methods will require a User's Auth Token.  This can be provided 
directly as an <code>auth_token</code> parameter or by calling the <code>get</code> function available 
from the <code>RTMUser</code> instance, which will automatically provide the Auth Token. </p>
<pre class="prettyprint source lang-javascript"><code>let params = {
  list_id: &quot;list id&quot;,
  filter: &quot;tasks filter&quot;
};
user.get('rtm.tasks.getList', params, function(err, resp) {
  if ( err ) {
    console.error(err.toString());
  }

  // Handle the Response
  console.log(resp);
});</code></pre><h3>API Responses</h3><p>The arguments returned in the callback of the <code>get</code> function will include an 
<code>RTMError</code> instance (if the RTM API returned a status of 'fail') or an 
<code>RTMSuccess</code> instance for successful requests.</p>
<h4>Error Responses</h4><p>An <code>RTMError</code> response will have <code>code</code> and <code>msg</code> properties set based on the 
RTM API response.  </p>
<p>Additional error codes are added by <code>rtm-api</code>:</p>
<table>
<thead>
<tr>
<th style="text-align:center">error code</th>
<th>error description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">-1</td>
<td><strong>Network Error</strong>: <code>rtm-api</code> could not connect to the RTM API Server.</td>
</tr>
<tr>
<td style="text-align:center">-2</td>
<td><strong>Response Error</strong>: <code>rtm-api</code> could not parse the response from the RTM API Server.</td>
</tr>
<tr>
<td style="text-align:center">-3</td>
<td><strong>Reference Error</strong>: An <code>RTMTask</code> index is out of range or RTM item could not be found with the given reference.</td>
</tr>
</tbody>
</table>
<h4>Successful Responses</h4><p>For a successful response, the API response properties can be accessed directly 
from the <code>RTMSuccess</code> properties (<code>resp.tasks</code>, <code>resp.tasks.list</code>, etc).  All 
response properties are available via <code>resp.props</code></p>
<h3>Helper Functions</h3><p><code>rtm-api</code> includes a number of helper classes &amp; functions for commonly used API 
methods used to obtain and modify RTM Lists and Tasks.  These functions are 
available via an <code>RTMUser</code> instance's <code>lists</code> and <code>tasks</code> properties.</p>
<p>The following <strong>list</strong> functions are available:</p>
<ul>
<li><code>get()</code>: get an array of <code>RTMList</code>s</li>
<li><code>add()</code>: add a new List</li>
<li><code>rename()</code>: rename a List</li>
<li><code>remove()</code>: remove a List</li>
</ul>
<p>The following <strong>task</strong> functions are available:</p>
<ul>
<li><code>get()</code>: returns an array of <code>RTMTasks</code>s (with the Tasks's <code>RTMList</code> added to the <code>list</code> property)</li>
<li><code>add()</code>: add a new Task</li>
</ul>
<p>Examples using the helper functions can be found in the repository's 
<a href="https://github.com/dwaring87/rtm-api/wiki">wiki pages</a>.</p></article>
    </section>






</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Mon Nov 13 2017 12:39:39 GMT-0500 (EST) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>